{"version":3,"sources":["../../src/db-models/index.js"],"names":["sequelize","process","env","DATABASE_CONNECTION_STRING","Sequelize","DATABASE","DATABASE_USER","DATABASE_PASSWORD","dialect","models","User","import","Questionnaire","Question","Answer","Progress","ProgressAnswer","Object","keys","forEach","key","associate"],"mappings":";;;;;;;AAAA;;;;AACA,IAAIA,SAAJ;;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,0BAAhB,EAA4C;AAC1C,sBAAAH,SAAS,GAAG,IAAII,kBAAJ,CAAcH,OAAO,CAACC,GAAR,CAAYC,0BAA1B,CAAZ;AACD,CAFD,MAEO;AACL,sBAAAH,SAAS,GAAG,IAAII,kBAAJ,CACVH,OAAO,CAACC,GAAR,CAAYG,QADF,EAEVJ,OAAO,CAACC,GAAR,CAAYI,aAFF,EAGVL,OAAO,CAACC,GAAR,CAAYK,iBAHF,EAIV;AACEC,IAAAA,OAAO,EAAE;AADX,GAJU,CAAZ;AAQD;;AAED,MAAMC,MAAM,GAAG;AACbC,EAAAA,IAAI,EAAEV,SAAS,CAACW,MAAV,CAAiB,QAAjB,CADO;AAEbC,EAAAA,aAAa,EAAEZ,SAAS,CAACW,MAAV,CAAiB,iBAAjB,CAFF;AAGbE,EAAAA,QAAQ,EAAEb,SAAS,CAACW,MAAV,CAAiB,YAAjB,CAHG;AAIbG,EAAAA,MAAM,EAAEd,SAAS,CAACW,MAAV,CAAiB,UAAjB,CAJK;AAKbI,EAAAA,QAAQ,EAAEf,SAAS,CAACW,MAAV,CAAiB,YAAjB,CALG;AAMbK,EAAAA,cAAc,EAAEhB,SAAS,CAACW,MAAV,CAAiB,mBAAjB;AANH,CAAf;AASAM,MAAM,CAACC,IAAP,CAAYT,MAAZ,EAAoBU,OAApB,CAA4BC,GAAG,IAAI;AACjC,MAAI,eAAeX,MAAM,CAACW,GAAD,CAAzB,EAAgC;AAC9BX,IAAAA,MAAM,CAACW,GAAD,CAAN,CAAYC,SAAZ,CAAsBZ,MAAtB;AACD;AACF,CAJD;eAQeA,M","sourcesContent":["import Sequelize from 'sequelize';\r\nlet sequelize;\r\n\r\nif (process.env.DATABASE_CONNECTION_STRING) {\r\n  sequelize = new Sequelize(process.env.DATABASE_CONNECTION_STRING);\r\n} else {\r\n  sequelize = new Sequelize(\r\n    process.env.DATABASE,\r\n    process.env.DATABASE_USER,\r\n    process.env.DATABASE_PASSWORD,\r\n    {\r\n      dialect: 'postgres',\r\n    },\r\n  );\r\n}\r\n\r\nconst models = {\r\n  User: sequelize.import('./user'),\r\n  Questionnaire: sequelize.import('./questionnaire'),\r\n  Question: sequelize.import('./question'),\r\n  Answer: sequelize.import('./answer'),\r\n  Progress: sequelize.import('./progress'),\r\n  ProgressAnswer: sequelize.import('./progress-answer')\r\n};\r\n\r\nObject.keys(models).forEach(key => {\r\n  if ('associate' in models[key]) {\r\n    models[key].associate(models);\r\n  }\r\n});\r\n\r\nexport { sequelize };\r\n\r\nexport default models;\r\n"],"file":"index.js"}